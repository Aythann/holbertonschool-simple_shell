.TH HSH 1 "January 2026" "Simple Shell" "User Commands"
.SH NAME
hsh \- a simple UNIX command line interpreter

.SH SYNOPSIS
.B hsh

.SH DESCRIPTION
.B hsh
is a simple UNIX shell written in C.
It executes commands read from standard input and works in both interactive
and non-interactive modes.

The shell reads a command line using
.B getline(3),
splits it into arguments, checks for built-in commands,
and executes external commands using
.B fork(2)
and
.B execve(2).

Commands are executed either by using a direct path or by searching
for the executable in the
.B PATH
environment variable.

.SH INVOCATION
To start the shell in interactive mode:
.PP
.nf
./hsh
.fi

To use the shell in non-interactive mode:
.PP
.nf
echo "ls -l" | ./hsh
.fi

.SH PROMPT
When standard input is a terminal,
.B hsh
displays the following prompt:
.PP
.nf
($)
.fi

.SH COMMAND EXECUTION
For each command line, the shell performs the following steps:
.IP 1. 3
Reads a line from standard input.
.IP 2. 3
Splits the line into arguments.
.IP 3. 3
Checks if the command is a built-in.
.IP 4. 3
If not a built-in, attempts to execute the command:
.RS 3
.IP \(bu 2
using a direct path if provided,
.IP \(bu 2
or by searching directories listed in the
.B PATH
environment variable.
.RE
.IP 5. 3
Creates a child process using
.B fork(2).
.IP 6. 3
Executes the command using
.B execve(2).
.IP 7. 3
The parent process waits for the child to finish execution.

.SH BUILT-IN COMMANDS
.TP
.B exit
Exit the shell.
No status argument is supported.

.TP
.B env
Print the current environment variables, one per line.

.TP
.B cd
Change the current working directory to the value of
.B HOME.
If
.B HOME
is not set, change to
.B /.

.TP
.B cd
.I directory
Change the current working directory to
.I directory.
If the operation fails, an error message is printed.

.TP
.B setenv
.I NAME VALUE
Set or modify an environment variable.

.TP
.B unsetenv
.I NAME
Remove an environment variable from the environment.

.SH ENVIRONMENT
The shell uses the environment array
.B environ
and supports the following variables:
.TP
.B PATH
List of directories searched for executable commands.
.TP
.B HOME
Used by the
.B cd
builtin when no directory argument is given.

.SH RETURN VALUE
On normal termination,
.B hsh
returns 0.
The
.B exit
builtin terminates the shell.

.SH LIMITATIONS
This shell is intentionally minimal and educational.
Known limitations include:
.IP \(bu 2
No support for pipes or redirections.
.IP \(bu 2
No command separators such as
.BR "&&" ", " "||" ", or " ";" .
.IP \(bu 2
No handling of quotes or escape characters.
.IP \(bu 2
No job control.
.IP \(bu 2
The
.B exit
builtin does not support status arguments.
.IP \(bu 2
Environment handling is minimal and does not reallocate
.B environ.

.SH FILES
.TP
.I shell.h
Header file containing prototypes and structures.
.TP
.I main.c
Main shell loop and prompt handling.
.TP
.I execute.c
Command execution logic.
.TP
.I builtins.c
Built-in command implementations.
.TP
.I env.c
Environment variable handling.
.TP
.I parser.c
Command line parsing.
.TP
.I path.c
PATH handling and command lookup.
.TP
.I utils.c
Utility functions.

.SH AUTHORS
Aythan Cristovao
.br
Killian Le Boulzec

.SH SEE ALSO
.BR sh (1),
.BR bash (1),
.BR execve (2),
.BR fork (2),
.BR wait (2),
.BR getline (3)
